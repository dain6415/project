<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="./img/favicon.ico" />
    <title>m.NewJeans</title>
    <link
      href="
https://cdn.jsdelivr.net/npm/reset-css@5.0.2/reset.min.css
"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/reset.css" />
    <link rel="stylesheet" href="./style.css" />
    <link rel="stylesheet" href="./css/mobile.css" media="(max-width: 700px)" />
    <script>
      if (window.innerWidth > 700) {
        window.location.href = "pc.html";
      }
    </script>
    <style>
      #loading {
        display: none;
      }
    </style>
  </head>
  <body>
    <div id="topBar">
      <div class="left">
        <div>
          <img src="./img/icon/m.svg" alt="통신" />
        </div>
      </div>
      <div class="right">
        <div class="lock">
          <img src="./img/icon/lock.svg" alt="뉴진스" />
        </div>
        <div class="batt"><img src="./img/icon/music.svg" alt="음악" /></div>
        <div class="batt"><img src="./img/icon/Mbatt.svg" alt="배터리" /></div>
        <div class="clock_box">
          <div id="clock"></div>
        </div>
      </div>
    </div>

    <main>
      <section id="intro">
        <div id="mobilePlayList" class="shaodw">
          <div class="play_wrap">
            <!-- 오디오 재생할 곡 -->

            <audio src="./music/supernatural.mp3" preload="auto" loop></audio>
            <audio src="./music/right-now.mp3" preload="auto" loop></audio>

            <div class="play_view">
              <div class="cd_icon">
                <img src="./img/icon/playlist/cd.svg" alt="씨디" />
              </div>
              <div class="play_song">
                <p>NewJeans - <span class="song">Supernatural</span>(inst)</p>
              </div>
            </div>

            <div class="btns_wrap">
              <div class="play_btns">
                <ol>
                  <li>
                    <button class="play btn" aria-label="재생" type="button">
                      <img src="./img//icon/playlist/Mplay.svg" alt="재생" />
                    </button>
                  </li>
                  <li>
                    <button class="next btn" aria-label="다음" type="button">
                      <img src="./img//icon/playlist/Mnext.svg" alt="다음" />
                    </button>
                  </li>
                </ol>
              </div>
            </div>
          </div>
        </div>

        <ol class="mobile_app">
          <li id="mv" class="folder" aria-expanded="false">
            <button
              class="app video"
              aria-label="mv 앱 열기"
            >
              <figure>
                <img src="./img/icon/mobile_app//mv.svg" alt="뮤직비디오" />
                <figcaption>뮤직비디오</figcaption>
              </figure>
            </button>
          </li>
          <li id="gallery" class="folder">
            <button
              class="app gallery"
              aria-label="supernatural_gallery 폴더 열기"
            >
              <figure>
                <img src="./img/icon/mobile_app/gallery.svg" alt="사진첩" />
                <figcaption>사진첩</figcaption>
              </figure>
            </button>
          </li>
          <li id="goods">
            <a
              href="https://kream.co.kr/search?tab=products&keyword=%EB%89%B4%EC%A7%84%EC%8A%A4+%EA%B5%BF%EC%A6%88&srsltid=AfmBOorWujcj-VKKTYS6Q8R97laqPQpdgRFZIHHBItvtyGjfPT31M4JB"
              class="new_view app"
              target="_blank"
              rel="noopener noreferrer"
            >
              <figure class="link">
                <img src="./img/icon//mobile_app/goods.svg" alt="굿즈" />
                <figcaption>굿즈</figcaption>
              </figure>
            </a>
          </li>
          <li id="phoning">
            <a
              href="https://play.google.com/store/apps/details?id=co.weverse.phoning&hl=ko"
              class="new_view app"
              target="_blank"
              rel="noopener noreferrer"
            >
              <figure class="link">
                <img src="./img/icon//mobile_app/phoning.svg" alt="포닝" />
                <figcaption>포닝</figcaption>
              </figure>
            </a>
          </li>
        </ol>
      </section>

      <div class="container">
        <div id="list_wrap" class="contents" role="list"></div>
      </div>


      <div
        class="modal hidden"
        aria-labelledby="modalTitle"
        aria-modal="false"
        role="dialog"
      >
        <div class="modal_top_bar">
          <div class="left">
            <div class="icon_box">
              <img src="./img/icon/img.svg" alt="이미지" />
            </div>
            <p id="modalTitle"></p>
          </div>
          <button id="close" aria-label="닫기">
            <img src="./img/icon/close.svg" alt="모달 닫기" />
          </button>
        </div>
        <div class="modal_img_box">
          <img src="" id="modal_img" alt="" />
        </div>
        <ol class="controls">
          <li>
            <button id="prev" aria-label="이전 이미지">
              <img src="./img/icon/prev.svg" alt="" />
            </button>
          </li>
          <li>
            <button id="next" aria-label="다음 이미지">
              <img src="./img/icon/next.svg" alt="" />
            </button>
          </li>
        </ol>
        <a id="download" href="#" download aria-label="이미지 다운로드"
          >다운로드</a
        >
      </div>
    </main>

    <div id="bottomBar">
      <button class="home">home</button>
    </div>

    <!-- 음악 -->
    <!-- <script>
      const playList = document.querySelectorAll("audio");
      let playing = false;
      let nowPlaying = 0;

      const playBtn = document.querySelector(".play");
      const stopBtn = document.querySelector(".stop");
      const pauseBtn = document.querySelector(".pause");
      const nextBtn = document.querySelector(".next");

      const btnList = [playBtn, pauseBtn, stopBtn];

      const getCurrentAudio = () => playList[nowPlaying];

      function setBtnImage(btn, isActive) {
        const img = btn.querySelector("img");
        if (!img) return;

        let src = img.getAttribute("src");

        if (isActive) {
          if (!src.includes("_in")) {
            img.setAttribute("src", src.replace(".svg", "_in.svg"));
          }
        } else {
          if (src.includes("_in")) {
            img.setAttribute("src", src.replace("_in", ""));
          }
        }
      }

      function updateActiveBtn(targetBtn) {
        btnList.forEach((btn) => setBtnImage(btn, btn === targetBtn));
      }

      playBtn.addEventListener("click", () => {
        const audio = getCurrentAudio();
        if (!playing) {
          audio.play();
          playing = true;
        }
        updateActiveBtn(playBtn);
      });

      pauseBtn.addEventListener("click", () => {
        const audio = getCurrentAudio();
        if (playing) {
          audio.pause();
          playing = false;
        }
        updateActiveBtn(pauseBtn);
      });

      stopBtn.addEventListener("click", () => {
        const audio = getCurrentAudio();
        audio.pause();
        audio.currentTime = 0;
        playing = false;
        updateActiveBtn(stopBtn);
      });

      nextBtn.addEventListener("click", () => {
        const current = getCurrentAudio();
        current.pause();
        current.currentTime = 0;

        nowPlaying = (nowPlaying + 1) % playList.length;
        const nextAudio = getCurrentAudio();
        nextAudio.play();
        playing = true;

        document.querySelector(".song").textContent =
          nowPlaying === 0 ? "Supernatural" : "Right Now";

        updateActiveBtn(playBtn);
      });
    </script> -->
    <script src="./mobile.js" type="module"></script>
  </body>
</html>
